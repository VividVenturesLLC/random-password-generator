<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Random Password Generator</title>

        <link rel="stylesheet" href="https://unpkg.com/carbon-components/css/carbon-components.min.css">
        <script src="https://unpkg.com/carbon-components/scripts/carbon-components.min.js"></script>
    </head>
    <style>
        body{
            background-color:#2c3e50;
            font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;
        }
    </style>
<body>

<script>




function shuffle(in_string, shuffles) {
  /**
   * Input:
   *   in_string: string to be shuffled
   *   shuffles: integer number of shuffles
   *             defaults to three if 0 or undefined
   * Output:
   *   returns a shuffled string
  */
  if ( shuffles === 0 || shuffles === undefined ) {
    shuffles = 3 //default to three for good luck
  }

  var merged_array = []
  var my_array = in_string.split('');

  left_array = my_array.slice( 0 ,my_array.length/2 )
  right_array = my_array.slice( (my_array.length/2) , my_array.length + 1 )

  while(left_array.length > 0) {
    merged_array.push( left_array.pop() )
    merged_array.push( right_array.pop() )
  }
  while( right_array.length > 0 ) {
    merged_array.push( right_array.pop() )
  }

  merged_array.sort( function(a, b){ return 0.5 - Math.random() } );
  shuffles -= 1
  if(shuffles > 0 ) { // keep shuffling :)
    return shuffle (merged_array.join(''), shuffles )
  } else { // thats enough shuffling, please stop!
    return merged_array.join(''); //string
  }
}

function generatepass(plength,sc_length){
  /** Inputs:
        plength: expected number of characters in the password
        sc_length: expected number of special characters
      Output:
        password string
  */
  plength = plength-sc_length // account for added special characters
  var special_character_list = "$%#!="
  var keylist="ABCDEFGHIJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz123456789"
              // keylist excludes lower case l, o, and the number 0
              //                  upper case O
  result = ''
  for (i=0;i<sc_length;i++)
    result += special_character_list.charAt(
        Math.floor(Math.random()*special_character_list.length)
      )

  for (i=0;i<plength;i++)
    result += keylist.charAt( Math.floor(Math.random()*keylist.length) )
    //Random password generator- by javascriptkit.com
    //Visit JavaScript Kit (http://javascriptkit.com) for script
    //Credit must stay intact for use

  return shuffle( result )
}

function populateform(enterlength,special_characters_length){
  document.getElementById("output").innerHTML=
    generatepass(enterlength,special_characters_length)
}
</script>

<div class="bx--grid">

      <form name="pgenerate">

        <div class="bx--row">
          <div class="bx--col"><!-- Row 1, Col 1 --><br/>

            <div class="bx--form-item">
              <div data-numberinput="" class="bx--number">
                <label for="number-input0" class="bx--label">Special characters</label>
                <div class="bx--number__input-wrapper">
                    <input id="special_characters" type="number" min="1" max="3" value="1">
                    <div class="bx--number__controls">
                      <button aria-label="increase number input" class="bx--number__control-btn up-icon" type="button" aria-live="polite" aria-atomic="true">
                        <svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="8" height="4" viewBox="0 0 8 4" aria-hidden="true"><path d="M0 4L4 0 8 4z"></path></svg>
                      </button>
                      <button aria-label="decrease number input" class="bx--number__control-btn down-icon" type="button" aria-live="polite" aria-atomic="true">
                        <svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="8" height="4" viewBox="0 0 8 4" aria-hidden="true"><path d="M8 0L4 4 0 0z"></path></svg>
                      </button>
                    </div>
                </div>
              </div>
            </div>
          </div><!-- /column 1 -->
          <div class="bx--col">
            <!-- Row 1, Col 2 --><br/>
          </div><!-- /column 2 -->

        </div><!--end row 1-->


        <div class="bx--row">
          <div class="bx--col"><!-- Row 2, Col 1 -->

            <div class="bx--form-item">
              <div data-numberinput="" class="bx--number">
                <label for="number-input0" class="bx--label">Password length</label>
                <div class="bx--number__input-wrapper">
                    <input id="thelength" type="number" min="10" max="20" value="10">
                    <div class="bx--number__controls">
                      <button aria-label="increase number input" class="bx--number__control-btn up-icon" type="button" aria-live="polite" aria-atomic="true">
                        <svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="8" height="4" viewBox="0 0 8 4" aria-hidden="true"><path d="M0 4L4 0 8 4z"></path></svg>
                      </button>
                      <button aria-label="decrease number input" class="bx--number__control-btn down-icon" type="button" aria-live="polite" aria-atomic="true">
                        <svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="8" height="4" viewBox="0 0 8 4" aria-hidden="true"><path d="M8 0L4 4 0 0z"></path></svg>
                      </button>
                    </div>
                </div>
              </div>
            </div>


          </div><!-- /column 1 -->
          <div class="bx--col"><!-- Row 2, Col 2 --><br/><br/><h3>Random Password</h3><br/></div><!-- /column 2 -->

        </div><!--end row 1-->


    <div class="bx--row">
        <!-- blank spacer row -->
        <div class="bx--col">&nbsp;<!-- r3c1 --></div>
        <div class="bx--col">&nbsp;<!-- r3c2 --></div>
    </div><!-- end row -->

        <div class="bx--row">
          <div class="bx--col">

            <button class="bx--btn--tertiary"
                     type="button"
                    label="Generate password"
                  onClick="populateform(this.form.thelength.value,this.form.special_characters.value)"
            >Generate password
            </button>

          </div>
          <div class="bx--col">

            <div   id="output"
                class="bx--tile"
                style="font-size: 200%" >
            </div>

          </div>


      </form>

    </div><!-- end row -->
</div><!-- end grid -->

<div class="bx--grid">
  <div class="bx--row">
    <!-- blank spacer row -->
    <div class="bx--col">&nbsp;</div>
    <div class="bx--col">&nbsp;</div>
  </div><!-- end row -->

  <div class="bx--row">
    <div class="bx--col">
      <a href="https://vividventures.biz"
         data-tile="clickable"
         class="bx--tile bx--tile--clickable"
         tabindex="0"
         target="_blank">
         <h5 class="bx--resource-card__subtitle">Service provided by</h5>
         Vivid Ventures LLC</a>
    </div>
    <div class="bx--col">
      <a href="http://javascriptkit.com"
         data-tile="clickable"
         class="bx--tile bx--tile--clickable"
         tabindex="0"
         target="_blank">
         <h5 class="bx--resource-card__subtitle">Script inspiration by</h5>
         JavaScript Kit</a>
    </div>
  </div><!-- end row -->

  <div class="bx--row">
    <!-- blank spacer row -->
    <div class="bx--col">&nbsp;</div>
    <div class="bx--col">&nbsp;</div>
  </div><!-- end row -->

  <div class="bx--row">
    <div class="bx--col">
      <a href="https://github.com/VividVenturesLLC/random-password-generator"
         data-tile="clickable"
         class="bx--tile bx--tile--clickable"
         tabindex="0"
         target="_blank">
         <h5 class="bx--resource-card__subtitle">Source</h5>
        <img src="assets/images/logo--github.svg"
             alt="logo--github" width="15" height="15">
      </a>
    </div>
    <div class="bx--col">
      <a href="https://www.carbondesignsystem.com/"
         data-tile="clickable"
         class="bx--tile bx--tile--clickable"
         tabindex="0"
         target="_blank">
         <h5 class="bx--resource-card__subtitle">Theme inspiration</h5>
         from the Carbon Design System </a>

    </div>
    </div>
  </div><!-- end row -->

</div><!-- end grid -->

</body></html>